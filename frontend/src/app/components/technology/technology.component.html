<div class="container mt-2">
  <div class="d-flex flex-column justify-content-center align-items-center pt-4 mb-4 mt-3">
    <!-- Header Section -->
    <div class="header-section text-center">
      <h1 class="title">Violence & Threat Analyzer</h1>
      <p class="description">
        Upload videos or images to detect violent activity instantly. Free users can get a summary report.<br />
        Upgrade to unlock full detailed reports, gun detection, and object detection for comprehensive safety analysis.
      </p>
    </div>

    <!-- File Upload Section -->
    <div class="upload-section d-flex align-items-center gap-3 mb-3">
      <div class="file-input-wrapper">
        <input type="file" id="fileInput" (change)="onFileSelected($event)" />
        <label for="fileInput" class="file-label">Choose File</label>
      </div>
      <button (click)="upload()" [disabled]="!selectedFile" class="upload-btn">Upload</button>
    </div>
    <p class="supported-formats">Supported formats: .mp4, .avi, .jpg, .png (Max size 500 MB)</p>
    @if(errorMessage) {
    <p class="error-message">{{ errorMessage }}</p>
    }

    <!-- Display Uploaded Files -->
    @for (file of selectedFiles; track $index) {
    <div class="my-2">
      <p>{{ file.name }}</p>
      @if (file.type.startsWith('image/')) {
      <img [src]="getFileUrl(file)" width="500" class="uploaded-media">
      }
      @if (file.type.startsWith('video/')) {
      <video [src]="getFileUrl(file)" width="500" class="uploaded-media" controls></video>
      }
    </div>
    }

    <!-- Status Section (Hardcoded for design purposes, adjust based on your logic) -->
    <div class="status-section d-flex align-items-center gap-2 mb-3">
      <span class="status-icon">âœ”</span>
      <div>
        <p class="status-title">Violence Detection (Free Plan)</p>
        <p class="status-text">Overall Status: Violence Detected</p>
        <p class="status-text">Confidence Score: 90%</p>
      </div>
    </div>

    <!-- Buttons Section -->
    <div class="d-flex justify-content-center align-items-center m-3 gap-3">
      <button type="button" class="btn summary-btn">Generate Summary</button>
      <button type="button" class="btn report-btn">Generate Full Report</button>
    </div>
    <p class="button-info">Summary is free. Full Report available with Starter or Pro Plan</p>

    <!-- Advanced Analysis Section -->
    <div class="advanced-section d-flex flex-column align-items-center mt-4">
      <div class="d-flex align-items-center gap-2 mb-2">
        <span class="flame-icon">ðŸ”¥</span>
        <h3 class="advanced-title">Advanced Analysis (Available in Pro Plans)</h3>
      </div>
      <div class="d-flex gap-3">
        <div class="feature-box">
          <span class="feature-icon">ðŸ”«</span>
          <p class="feature-text">Gun Detection<br />(<a href="#" class="feature-link">Click to View Plans</a>)</p>
        </div>
        <div class="feature-box">
          <span class="feature-icon">ðŸŽ¯</span>
          <p class="feature-text">Object Detection<br />(<a href="#" class="feature-link">Click to View Plans</a>)</p>
        </div>
      </div>
      <a href="#" class="upgrade-link mt-3">Why Upgrade?</a>
    </div>
  </div>
</div>